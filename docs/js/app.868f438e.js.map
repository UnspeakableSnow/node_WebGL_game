{"version":3,"file":"js/app.868f438e.js","mappings":"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","sources":["webpack://ozisan_offense/./src/components/login_manager.vue?17d6","webpack://ozisan_offense/./src/components/login_manager.vue","webpack://ozisan_offense/./src/components/login_manager.vue?6fb3","webpack://ozisan_offense/./src/components/room_access.vue?cfe7","webpack://ozisan_offense/./src/components/room_access.vue","webpack://ozisan_offense/./src/components/room_access.vue?fc33","webpack://ozisan_offense/./src/components/hud_view.vue?a3be","webpack://ozisan_offense/./src/components/hud_view.vue","webpack://ozisan_offense/./src/components/hud_view.vue?3054","webpack://ozisan_offense/./src/components/graphic_view.vue?7299","webpack://ozisan_offense/./src/components/graphic_view.vue","webpack://ozisan_offense/./src/components/graphic_view.vue?36da","webpack://ozisan_offense/./src/App.vue?2a5e","webpack://ozisan_offense/./src/App.vue","webpack://ozisan_offense/./src/App.vue?7ccd","webpack://ozisan_offense/./src/main.ts","webpack://ozisan_offense/webpack/bootstrap","webpack://ozisan_offense/webpack/runtime/chunk loaded","webpack://ozisan_offense/webpack/runtime/define property getters","webpack://ozisan_offense/webpack/runtime/global","webpack://ozisan_offense/webpack/runtime/hasOwnProperty shorthand","webpack://ozisan_offense/webpack/runtime/make namespace object","webpack://ozisan_offense/webpack/runtime/publicPath","webpack://ozisan_offense/webpack/runtime/jsonp chunk loading","webpack://ozisan_offense/webpack/startup"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { ref } from \"vue\";\nimport { Socket } from \"socket.io-client\";\nimport { PS } from \"@/@types/types\";\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'login_manager',\n  props: {\n    socket: {}\n  },\n  emits: [\"vomitPS\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\nconst emits = __emit;\n\nconst id = ref(\"\");\n\nprops.socket.on(\"login_success\", (PS: PS) => {\n  emits(\"vomitPS\", PS);\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"ログイン（ダミー）\", -1)),\n    _createElementVNode(\"form\", {\n      class: \"frame\",\n      onSubmit: _cache[1] || (_cache[1] = _withModifiers(($event: any) => (_ctx.socket.emit('login', id.value)), [\"prevent\"]))\n    }, [\n      _cache[2] || (_cache[2] = _createElementVNode(\"label\", null, \"IDを入力してください：\", -1)),\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((id).value = $event))\n      }, null, 512), [\n        [_vModelText, id.value]\n      ]),\n      _cache[3] || (_cache[3] = _createElementVNode(\"input\", { type: \"submit\" }, null, -1))\n    ], 32)\n  ], 64))\n}\n}\n\n})","<!-- ログイン処理 -->\n<script setup lang=\"ts\">\nimport { defineProps, defineEmits, ref } from \"vue\";\nimport { Socket } from \"socket.io-client\";\nimport { PS } from \"@/@types/types\";\n\nconst props = defineProps<{\n  socket: Socket;\n}>();\nconst emits = defineEmits<{\n  (e: \"vomitPS\", PS: PS): void;\n}>();\n\nconst id = ref(\"\");\n\nprops.socket.on(\"login_success\", (PS: PS) => {\n  emits(\"vomitPS\", PS);\n});\n</script>\n\n<style scoped>\nlabel,\ninput {\n  margin: 10px;\n}\n</style>\n\n<template>\n  <h2>ログイン（ダミー）</h2>\n  <form class=\"frame\" @submit.prevent=\"socket.emit('login', id)\">\n    <label>IDを入力してください：</label>\n    <input type=\"text\" v-model=\"id\" />\n    <input type=\"submit\" />\n  </form>\n</template>\n","import script from \"./login_manager.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./login_manager.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./login_manager.vue?vue&type=style&index=0&id=60d38fc4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-60d38fc4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, createTextVNode as _createTextVNode, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { class: \"frame\" }\nconst _hoisted_2 = { id: \"createRform\" }\nconst _hoisted_3 = { id: \"createRoptions\" }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = { class: \"bottom_population_text\" }\nconst _hoisted_6 = { class: \"bottom_map_text\" }\nconst _hoisted_7 = { class: \"bottom_main_text\" }\nconst _hoisted_8 = { class: \"bottom_mode_text\" }\n\nimport { ref } from \"vue\";\nimport { Socket } from \"socket.io-client\";\nimport type { RT } from \"@/@types/types\";\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'room_access',\n  props: {\n    socket: {}\n  },\n  emits: [\"vomit_RT\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\nconst emits = __emit;\n\nconst selectRid = ref(\"\");\nconst select_map = ref(\"origin\");\nconst select_mode = ref(\"deathmatch\");\nconst Rs = ref<RT[]>([]);\nprops.socket.emit(\"getRs\");\nprops.socket.on(\"vomitRs\", (vomited_Rs: RT[]) => {\n  console.log(vomited_Rs);\n  Rs.value = vomited_Rs;\n});\nprops.socket.on(\"Rsuccess\", (RT: RT) => {\n  emits(\"vomit_RT\", RT);\n  console.log(RT);\n});\nfunction createR(selectRid: string, select_map: string, select_mode: string) {\n  if (selectRid != \"\") {\n    props.socket.emit(\"createR\", {\n      Rid: selectRid,\n      map: select_map,\n      mode: select_mode,\n    });\n  } else {\n    alert(\"Ridは入力必須です。\");\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"form\", {\n      onSubmit: _cache[3] || (_cache[3] = _withModifiers(($event: any) => (createR(selectRid.value, select_map.value, select_mode.value)), [\"prevent\"]))\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _cache[11] || (_cache[11] = _createElementVNode(\"h3\", null, \"部屋を作る\", -1)),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _cache[6] || (_cache[6] = _createTextVNode(\" Rid:\")),\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((selectRid).value = $event))\n          }, null, 512), [\n            [_vModelText, selectRid.value]\n          ]),\n          _cache[7] || (_cache[7] = _createElementVNode(\"br\", null, null, -1)),\n          _cache[8] || (_cache[8] = _createTextVNode(\" select_map:\")),\n          _withDirectives(_createElementVNode(\"select\", {\n            name: \"select_map\",\n            id: \"select_map\",\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((select_map).value = $event))\n          }, _cache[4] || (_cache[4] = [\n            _createElementVNode(\"option\", { value: \"origin\" }, \"origin\", -1)\n          ]), 512), [\n            [_vModelSelect, select_map.value]\n          ]),\n          _cache[9] || (_cache[9] = _createElementVNode(\"br\", null, null, -1)),\n          _cache[10] || (_cache[10] = _createTextVNode(\" select_mode:\")),\n          _withDirectives(_createElementVNode(\"select\", {\n            name: \"select_mode\",\n            id: \"select_mode\",\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((select_mode).value = $event))\n          }, _cache[5] || (_cache[5] = [\n            _createElementVNode(\"option\", { value: \"deathmatch\" }, \"deathmatch\", -1),\n            _createElementVNode(\"option\", { value: \"team_deathmatch\" }, \"team_deathmatch\", -1)\n          ]), 512), [\n            [_vModelSelect, select_mode.value]\n          ])\n        ]),\n        _cache[12] || (_cache[12] = _createElementVNode(\"input\", { type: \"submit\" }, null, -1))\n      ])\n    ], 32),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Rs.value, (R, i) => {\n      return (_openBlock(), _createElementBlock(\"button\", {\n        key: i,\n        onClick: ($event: any) => (props.socket.emit('selectR', R.Rid))\n      }, [\n        _createElementVNode(\"p\", _hoisted_5, _toDisplayString(R.PTs.length) + \"/20\", 1),\n        _createElementVNode(\"p\", _hoisted_6, _toDisplayString(R.map), 1),\n        _createElementVNode(\"p\", _hoisted_7, _toDisplayString(R.Rid), 1),\n        _createElementVNode(\"p\", _hoisted_8, _toDisplayString(R.mode), 1)\n      ], 8, _hoisted_4))\n    }), 128))\n  ]))\n}\n}\n\n})","<!-- ルーム選択画面 -->\n<script setup lang=\"ts\">\nimport { defineProps, defineEmits, ref } from \"vue\";\nimport { Socket } from \"socket.io-client\";\nimport type { RT } from \"@/@types/types\";\n\nconst props = defineProps<{\n  socket: Socket;\n}>();\nconst emits = defineEmits<{\n  (e: \"vomit_RT\", RT: RT): void;\n}>();\n\nconst selectRid = ref(\"\");\nconst select_map = ref(\"origin\");\nconst select_mode = ref(\"deathmatch\");\nconst Rs = ref<RT[]>([]);\nprops.socket.emit(\"getRs\");\nprops.socket.on(\"vomitRs\", (vomited_Rs: RT[]) => {\n  console.log(vomited_Rs);\n  Rs.value = vomited_Rs;\n});\nprops.socket.on(\"Rsuccess\", (RT: RT) => {\n  emits(\"vomit_RT\", RT);\n  console.log(RT);\n});\nfunction createR(selectRid: string, select_map: string, select_mode: string) {\n  if (selectRid != \"\") {\n    props.socket.emit(\"createR\", {\n      Rid: selectRid,\n      map: select_map,\n      mode: select_mode,\n    });\n  } else {\n    alert(\"Ridは入力必須です。\");\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.bottom_main_text {\n  margin: 0.6em;\n  font-size: 1.5em;\n  font-family: Arial, Helvetica, sans-serif;\n  text-align: center;\n}\n.bottom_population_text {\n  margin: 0;\n  position: absolute;\n  left: 0.8em;\n  top: 0.3em;\n  font-size: 1em;\n}\n.bottom_map_text {\n  margin: 0;\n  position: absolute;\n  right: 0.8em;\n  top: 0.3em;\n  font-size: 1em;\n}\n.bottom_mode_text {\n  margin: 0;\n  font-size: 1em;\n}\nh3 {\n  margin: 5px 0;\n}\nbutton,\nform {\n  width: 90%;\n  border-radius: 1em;\n  text-align: center;\n  position: relative;\n  margin: 0.5em 5%;\n}\nform {\n  border: solid 2px #0ff;\n  padding: 5px;\n}\n#createRform {\n  display: flex;\n  justify-content: center;\n}\n#createRoptions {\n  padding: 4px;\n  text-align: left;\n  margin: 0 10px;\n}\n</style>\n\n<template>\n  <div class=\"frame\">\n    <form @submit.prevent=\"createR(selectRid, select_map, select_mode)\">\n      <div id=\"createRform\">\n        <h3>部屋を作る</h3>\n        <div id=\"createRoptions\">\n          Rid:<input type=\"text\" v-model=\"selectRid\" /><br />\n          select_map:<select\n            name=\"select_map\"\n            id=\"select_map\"\n            v-model=\"select_map\"\n          >\n            <option value=\"origin\">origin</option></select\n          ><br />\n          select_mode:<select\n            name=\"select_mode\"\n            id=\"select_mode\"\n            v-model=\"select_mode\"\n          >\n            <option value=\"deathmatch\">deathmatch</option>\n            <option value=\"team_deathmatch\">team_deathmatch</option>\n          </select>\n        </div>\n        <input type=\"submit\" />\n      </div>\n    </form>\n    <button\n      v-for=\"(R, i) in Rs\"\n      :key=\"i\"\n      @click=\"props.socket.emit('selectR', R.Rid)\"\n    >\n      <p class=\"bottom_population_text\">{{ R.PTs.length }}/20</p>\n      <p class=\"bottom_map_text\">{{ R.map }}</p>\n      <p class=\"bottom_main_text\">{{ R.Rid }}</p>\n      <p class=\"bottom_mode_text\">{{ R.mode }}</p>\n    </button>\n  </div>\n</template>\n","import script from \"./room_access.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./room_access.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./room_access.vue?vue&type=style&index=0&id=4a3b9a9c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4a3b9a9c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle } from \"vue\"\nimport _imports_0 from '@/assets/nc148346.png'\nimport _imports_1 from '@/assets/cycle_icon.png'\n\n\nconst _hoisted_1 = { id: \"debug_bar\" }\nconst _hoisted_2 = {\n  key: 0,\n  id: \"youdead\"\n}\nconst _hoisted_3 = {\n  key: 1,\n  id: \"main_hud\"\n}\n\n\nimport { PT } from \"@/@types/types\";\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'hud_view',\n  props: {\n    hud_data: {},\n    debug_data: {}\n  },\n  setup(__props: any) {\n\nconst props = __props;\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.debug_data, (d, i) => {\n        return (_openBlock(), _createElementBlock(\"p\", { key: i }, _toDisplayString(d[0]) + \"：\" + _toDisplayString(d[1]), 1))\n      }), 128))\n    ]),\n    (!props.hud_data.PT.alive)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[0] || (_cache[0] = [\n          _createElementVNode(\"div\", null, [\n            _createElementVNode(\"h1\", null, \"You Dead!\"),\n            _createElementVNode(\"p\", null, \"press \\\"t\\\" to respawn\")\n          ], -1)\n        ])))\n      : _createCommentVNode(\"\", true),\n    (props.hud_data.PT)\n      ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, [\n          _createTextVNode(\" health : \" + _toDisplayString(props.hud_data.PT.health), 1),\n          _cache[1] || (_cache[1] = _createElementVNode(\"br\", null, null, -1)),\n          _createTextVNode(\" ammo : \" + _toDisplayString(props.hud_data.ammo), 1),\n          _cache[2] || (_cache[2] = _createElementVNode(\"br\", null, null, -1)),\n          _createTextVNode(\" \" + _toDisplayString(Math.floor(Math.cos(props.hud_data.reloading_progress * 15) * 100) / 200 +\n      0.5), 1)\n        ]))\n      : _createCommentVNode(\"\", true),\n    _cache[3] || (_cache[3] = _createElementVNode(\"img\", {\n      src: _imports_0,\n      alt: \"\",\n      id: \"reticle\"\n    }, null, -1)),\n    _createElementVNode(\"img\", {\n      src: _imports_1,\n      alt: \"\",\n      id: \"cycle_icon\",\n      style: _normalizeStyle(\n      'opacity: ' +\n      (props.hud_data.reloading_progress > 0\n        ? Math.floor(Math.cos(props.hud_data.reloading_progress * 15) * 100) /\n            200 +\n          0.5\n        : 0) +\n      ';'\n    )\n    }, null, 4)\n  ], 64))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { defineProps } from \"vue\";\nimport { PT } from \"@/@types/types\";\nconst props = defineProps<{\n  hud_data: { PT: PT; ammo: number; reloading_progress: number };\n  debug_data: (string | number)[][];\n}>();\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#debug_bar {\n  position: absolute;\n  top: 10vh;\n  left: 0;\n  z-index: 1;\n  background-color: #000;\n  user-select: none;\n}\n#reticle,\n#cycle_icon {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  user-select: none;\n  pointer-events: none;\n}\n#youdead div {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  top: 50%;\n  left: 50%;\n  text-align: center;\n  justify-content: center;\n  user-select: none;\n  pointer-events: none;\n}\n#youdead div h1 {\n  margin: 0;\n}\n#youdead {\n  position: absolute;\n  font-family: serif;\n  font-size: 4vw;\n  z-index: 2;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #f005;\n}\n#main_hud {\n  position: absolute;\n  top: 1vh;\n  left: 1vw;\n  border-radius: 5px;\n  padding: 10px;\n  background-color: #f0f5;\n  z-index: 1;\n}\n</style>\n\n<template>\n  <div id=\"debug_bar\">\n    <p v-for=\"(d, i) in props.debug_data\" :key=\"i\">{{ d[0] }}：{{ d[1] }}</p>\n  </div>\n  <div id=\"youdead\" v-if=\"!props.hud_data.PT.alive\">\n    <div>\n      <h1>You Dead!</h1>\n      <p>press \"t\" to respawn</p>\n    </div>\n  </div>\n  <p id=\"main_hud\" v-if=\"props.hud_data.PT\">\n    health : {{ props.hud_data.PT.health }}<br />\n    ammo : {{ props.hud_data.ammo }}<br />\n    {{\n      Math.floor(Math.cos(props.hud_data.reloading_progress * 15) * 100) / 200 +\n      0.5\n    }}\n  </p>\n  <img src=\"@/assets/nc148346.png\" alt=\"\" id=\"reticle\" />\n  <img\n    src=\"@/assets/cycle_icon.png\"\n    alt=\"\"\n    id=\"cycle_icon\"\n    :style=\"\n      'opacity: ' +\n      (props.hud_data.reloading_progress > 0\n        ? Math.floor(Math.cos(props.hud_data.reloading_progress * 15) * 100) /\n            200 +\n          0.5\n        : 0) +\n      ';'\n    \"\n  />\n</template>\n","import script from \"./hud_view.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./hud_view.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./hud_view.vue?vue&type=style&index=0&id=523d03c6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-523d03c6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, createElementVNode as _createElementVNode, Fragment as _Fragment } from \"vue\"\nimport _imports_0 from '../assets/ozisanoffense_logo.png'\n\n\nconst _hoisted_1 = {\n  key: 0,\n  src: _imports_0,\n  alt: \"title_wall\"\n}\n\nimport { onMounted, ref } from \"vue\";\nimport hud_view from \"./hud_view.vue\";\nimport type { RT, PT } from \"@/@types/types\";\nimport * as THREE from \"three\";\nimport { GLTFLoader, GLTF } from \"three/examples/jsm/loaders/GLTFLoader.js\";\nimport { Socket } from \"socket.io-client\";\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'graphic_view',\n  props: {\n    socket: {},\n    in_nowRT: {},\n    id: {}\n  },\n  setup(__props: any) {\n\nlet width = window.innerWidth;\nlet height = window.innerHeight;\nlet mouse_x = 0;\nlet mouse_y = 0;\nconst models_dic = {\n  desert_eagle: \"/game_assets/desert_eagle_reload_animation.glb\",\n  fn_fal: \"/game_assets/fn_fal_reload_animation.glb\",\n  g3: \"/game_assets/g3_reload_animation.glb\",\n};\nconst loaded = ref(false);\nconst props = __props;\nconst in_nowRT = ref(props.in_nowRT);\nconst hud_rendingPT = ref<PT>();\nconst hud_rending_ammo = ref(0);\nconst hud_reloading_progress = ref(0);\nconst debug_data = ref<(string | number)[][]>([\n  [\"time_delta\", 1],\n  [\"syncT time delta\", 1],\n  [\"npc 9 HP\", 1],\n]);\n\nonMounted(async () => {\n  console.log(in_nowRT);\n  let wasd_down = 0;\n  let t_down = false;\n  let mouse_down = false;\n  const clock = new THREE.Clock();\n  const move_scale = 850;\n  let PCs: PCins[] = [];\n  let nPCs: PCins[] = [];\n  let bullets: bullet_ins[] = [];\n\n  window.addEventListener(\"resize\", () => {\n    width = window.innerWidth;\n    height = window.innerHeight;\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(width, height);\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n  });\n  document.body.addEventListener(\"keydown\", (event) => {\n    if (\n      PCs &&\n      PCs.every((PC) => {\n        PC.model;\n      })\n    )\n      return -1;\n    if (event.key === \"w\") {\n      wasd_down |= 0b1000;\n    }\n    if (event.key === \"a\") {\n      wasd_down |= 0b0100;\n    }\n    if (event.key === \"s\") {\n      wasd_down |= 0b0010;\n    }\n    if (event.key === \"d\") {\n      wasd_down |= 0b0001;\n    }\n    if (event.key === \"t\") {\n      t_down = true;\n    }\n    if (event.key === \"r\") {\n      if (PCs[myPCind]) PCs[myPCind].reload();\n    }\n    if (event.key === \"z\") {\n      if (PCs[myPCind]) PCs[myPCind].PT.sitting = !PCs[myPCind].PT.sitting;\n    }\n    if (event.shiftKey) {\n      if (PCs[myPCind]) PCs[myPCind].PT.running = !PCs[myPCind].PT.running;\n    }\n  });\n  document.body.addEventListener(\"keyup\", (event) => {\n    if (event.key === \"w\") {\n      wasd_down &= 0b0111;\n    }\n    if (event.key === \"a\") {\n      wasd_down &= 0b1011;\n    }\n    if (event.key === \"s\") {\n      wasd_down &= 0b1101;\n    }\n    if (event.key === \"d\") {\n      wasd_down &= 0b1110;\n    }\n    if (event.key === \"t\") {\n      t_down = false;\n    }\n  });\n  document.body.addEventListener(\"mousedown\", () => {\n    mouse_down = true;\n  });\n  document.body.addEventListener(\"mouseup\", () => {\n    mouse_down = false;\n    if (PCs[myPCind]) PCs[myPCind].rensha_cool_time = 0;\n  });\n\n  document.addEventListener(\"mousemove\", (event) => {\n    mouse_x = event.pageX / width - 0.5;\n    mouse_y = event.pageY / height - 0.5;\n  });\n  document.addEventListener(\"mouseleave\", () => {\n    mouse_x = 0;\n    mouse_y = 0;\n  });\n\n  props.socket.on(\"syncT\", (arg: { PTs: PT[]; nPTs: PT[]; time: number }) => {\n    debug_data.value[1][1] = (Date.now() - arg.time) / 1000;\n    if (PCs) {\n      arg.PTs.forEach((newPT, PCind) => {\n        if (PCind != myPCind) {\n          if (PCind < PCs.length) PCs[PCind].PT = newPT;\n          else PCs.push(new PCins(newPT));\n        }\n      });\n      if (arg.nPTs.length < nPCs.length) {\n        const removed = nPCs.splice(0, nPCs.length - arg.nPTs.length);\n        removed.forEach((nPC) => {\n          if (nPC.model) scene.remove(nPC.model);\n        });\n      }\n      arg.nPTs.forEach((new_nPT, nPCind) => {\n        if (nPCind % PCs.length !== myPCind) nPCs[nPCind].PT = new_nPT;\n      });\n    }\n  });\n  props.socket.on(\n    \"fire\",\n    (data: { T: PT; weapon_id: string; ammo_is: boolean }) => {\n      const PCind = PCs.findIndex((PC) => PC.PT.id === data.T.id);\n      if (PCind !== -1) PCs[PCind].PT = data.T;\n      PCs[PCind].shot(data.weapon_id, data.ammo_is);\n    }\n  );\n  props.socket.on(\"spawn\", (PT: PT) => {\n    const PCind = PCs.findIndex((PC) => PC.PT.id === PT.id);\n    if (PCind !== -1 && PCind !== myPCind) PCs[PCind].PT = PT;\n    PCs[PCind].spawn();\n  });\n\n  // プレイヤーキャラクターインスタンス\n  class PCins {\n    PT: PT;\n    semi_auto: boolean;\n    reload_time: number;\n    reloading_time: number;\n    rensha: number;\n    rensha_cool_time: number;\n    max_ammo: number;\n    ammo: number;\n    damage: number;\n    bul_speed: number;\n    repopcount: number;\n    shot_sound: HTMLAudioElement;\n    reload_sound: HTMLAudioElement;\n    noshot_sound: HTMLAudioElement;\n    model_path: string;\n    gltf: GLTF | undefined;\n    model: THREE.Object3D | undefined;\n    mixer: THREE.AnimationMixer | undefined;\n    animations: Map<string, THREE.AnimationClip>;\n    now_animation: THREE.AnimationClip | undefined;\n    action: THREE.AnimationAction | undefined;\n    constructor(PT: PT) {\n      this.PT = PT;\n      switch (this.PT.weapon_ids.main) {\n        case \"desert_eagle\": // デザートイーグル\n          this.rensha = 1;\n          this.max_ammo = 7;\n          this.damage = 3;\n          this.bul_speed = 460;\n          this.semi_auto = true;\n          this.reload_time = 2.5;\n          break;\n        case \"fn_fal\": // fal\n          this.rensha = 0.091;\n          this.max_ammo = 20;\n          this.damage = 0.6;\n          this.bul_speed = 823;\n          this.semi_auto = false;\n          this.reload_time = 2.0;\n          break;\n        case \"g3\": // G3\n          this.rensha = 0.1;\n          this.max_ammo = 30;\n          this.damage = 0.5;\n          this.bul_speed = 790;\n          this.semi_auto = false;\n          this.reload_time = 5.5;\n          break;\n      }\n      this.model = undefined;\n      this.shot_sound = new Audio(\"/game_assets/submachinegun.mp3\");\n      this.reload_sound = new Audio(\"/game_assets/pompaction.mp3\");\n      this.noshot_sound = new Audio(\"/game_assets/pompaction_none.mp3\");\n      this.model_path = models_dic[this.PT.weapon_ids.main];\n      this.animations = new Map([]);\n      this.reloading_time = 0;\n      this.rensha_cool_time = 0;\n      this.repopcount = 2;\n      this.ammo = 0;\n      this.mixer = undefined;\n      this.init();\n    }\n\n    async init() {\n      this.gltf = await loadergltf.loadAsync(this.model_path);\n      this.model = this.gltf.scene;\n      if (!this.model) throw Error(this.model_path + \"ロード失敗\");\n      if (this.gltf.animations.length > 0) {\n        this.gltf.animations.forEach((clip: THREE.AnimationClip) => {\n          // アニメーションをnameインデックスに\n          this.animations.set(clip.name, clip);\n        });\n        this.mixer = new THREE.AnimationMixer(this.model);\n      }\n      scene.add(this.model);\n      if (\n        this.PT.weapon_ids.main === \"desert_eagle\" ||\n        this.PT.weapon_ids.main === \"g3\"\n      ) {\n        this.model.scale.set(1.08, 1.08, 1.08);\n      } else if (this.PT.weapon_ids.main === \"fn_fal\") {\n        this.model.scale.set(91.8, 91.8, 91.8);\n      }\n      console.log(this.PT.id, this.animations.keys(), this.model);\n      if (props.id === this.PT.id) this.spawn();\n      else this.update(0.01);\n    }\n\n    reload() {\n      if (this.reloading_time <= 0) {\n        this.anim_change(\"reload\");\n        this.reloading_time = this.reload_time;\n        if (this.shot_sound.readyState === 4) {\n          this.reload_sound.pause();\n          this.reload_sound.currentTime = 0;\n          this.reload_sound.play();\n        }\n        this.ammo = this.max_ammo;\n      }\n    }\n\n    update(time_delta: number) {\n      if (!this.model) return -1;\n      if (this.repopcount >= 0) this.repopcount -= time_delta;\n      if (this.rensha_cool_time >= 0) this.rensha_cool_time -= time_delta;\n      if (this.reloading_time >= 0) this.reloading_time -= time_delta;\n      let poseflag = true;\n      if (this.reloading_time >= 0) poseflag = false;\n\n      if (this.PT.sitting && poseflag) {\n        this.anim_change(\"sit\");\n        poseflag = false;\n        // sitとrunは未実装。以下のoriginコードを参照に。\n        //   if (this.statuses & 0b1000) this.nowspeed += (2 - this.nowspeed) * 0.1;\n        //   else this.nowspeed += (0.8 - this.nowspeed) * 0.2;\n        // } else {\n        //   this.nowspeed += (0.3 - this.nowspeed) * 0.03;\n      }\n\n      if (\n        (this.repopcount >= 0 &&\n          Math.ceil(this.repopcount ** 2 / 5 + this.repopcount * 5) % 2) ||\n        !this.PT.alive\n      )\n        this.model.visible = false;\n      else this.model.visible = true;\n\n      this.PT.position.x += this.PT.velocity.x * time_delta;\n      this.PT.position.y += this.PT.velocity.y * time_delta;\n      this.PT.position.z += this.PT.velocity.z * time_delta;\n      this.model.position.set(\n        this.PT.position.x,\n        this.PT.position.y,\n        this.PT.position.z\n      );\n      PCs[myPCind].PT.velocity.x *= 0.8;\n      PCs[myPCind].PT.velocity.z *= 0.8;\n      if (\n        this.PT.velocity.x ** 2 +\n          this.PT.velocity.y ** 2 +\n          this.PT.velocity.z ** 2 >\n          0.1 &&\n        poseflag\n      ) {\n        this.anim_change(\"walk\");\n        poseflag = false;\n      }\n      this.PT.position.y_rotation += this.PT.velocity.y_rotation * time_delta;\n      this.PT.position.elevation_angle +=\n        this.PT.velocity.elevation_angle * time_delta;\n      this.model.rotation.set(0, this.PT.position.y_rotation, 0);\n      this.PT.velocity.y_rotation /= 0.1;\n      this.PT.velocity.elevation_angle /= 0.1;\n\n      if (poseflag) this.anim_change(\"pose\");\n      if (this.mixer) this.mixer.update(time_delta);\n    }\n\n    shot(weapon_id: string, ammo_is: boolean) {\n      if (!loaded.value) return -1;\n      if (ammo_is) {\n        // this.ammo--;\n        bullets.push(new bullet_ins(this.PT));\n        if (this.shot_sound.readyState === 4) {\n          this.shot_sound.pause();\n          this.shot_sound.currentTime = 0;\n          this.shot_sound.play();\n        }\n      } else {\n        // 空打ち\n        if (this.noshot_sound.readyState === 4) {\n          this.noshot_sound.pause();\n          this.noshot_sound.currentTime = 0;\n          this.noshot_sound.play();\n        }\n      }\n    }\n\n    spawn() {\n      this.repopcount = 3;\n      this.rensha_cool_time = 2;\n      this.PT.alive = true;\n      this.PT.health = 10;\n      this.PT.death++;\n      this.PT.position = this.PT.spawn_point;\n      this.PT.sitting = false;\n      this.PT.running = false;\n    }\n    anim_change(mode: string) {\n      if (\n        (!this.now_animation || this.now_animation.name != mode) &&\n        this.mixer\n      ) {\n        console.log(mode);\n        if (mode === \"reload\" && this.animations.has(\"KeptYouWaitingHuh?\")) {\n          // アニメーションを作ってないfal用\n          this.mixer.stopAllAction();\n          if (this.action) this.action.reset();\n          this.now_animation = this.animations.get(\"KeptYouWaitingHuh?\");\n          if (!this.now_animation) return -1;\n          this.action = this.mixer.clipAction(this.now_animation);\n          this.action.setLoop(THREE.LoopOnce, 1);\n          this.action.clampWhenFinished = true;\n          this.action.play();\n        } else {\n          this.mixer.stopAllAction();\n          if (this.action) this.action.reset();\n          this.now_animation = this.animations.get(mode);\n          if (!this.now_animation) return -1;\n          this.action = this.mixer.clipAction(this.now_animation);\n          this.action.setLoop(THREE.LoopRepeat, 999999);\n          this.action.clampWhenFinished = true;\n          this.action.play();\n        }\n      }\n    }\n  }\n  function kia_bullet(bullet_id: number) {\n    let target_bullet_ind = bullets.findIndex((b) => b.bullet_id === bullet_id);\n    if (target_bullet_ind !== -1) {\n      scene.remove(bullets[target_bullet_ind].bullet);\n      bullets.splice(target_bullet_ind, 1);\n    } else {\n      console.error(\"error kia bullet\", bullets.length);\n    }\n  }\n  class bullet_ins {\n    bullet: THREE.Mesh<\n      THREE.BoxGeometry,\n      THREE.MeshBasicMaterial,\n      THREE.Object3DEventMap\n    >;\n    bullet_id: number;\n    Pside: number;\n    vec: { y: number; e: number } | undefined;\n    speed: number | undefined;\n    counter: number | undefined;\n    damage: number | undefined;\n    ray: THREE.Raycaster | undefined;\n    // material.DepthがTSで表現できないため。\n    intersects: any[] | undefined;\n    exist: boolean;\n    constructor(T: PT) {\n      this.bullet = new THREE.Mesh(\n        new THREE.BoxGeometry(3, 3, 6),\n        new THREE.MeshBasicMaterial({ color: 0xff0000 })\n      );\n      this.Pside = T.side;\n      this.bullet_id = Math.random();\n      this.exist = true;\n      const PT = T;\n      const PC = PCs.find((PC) => PC.PT.id === T.id);\n      if (!PC) {\n        kia_bullet(this.bullet_id);\n        return;\n      }\n      this.vec = { y: PT.position.y_rotation, e: PT.position.elevation_angle };\n      this.bullet.position.set(\n        PT.position.x + Math.sin(this.vec.y) * Math.cos(this.vec.e) * 20,\n        PT.position.y + 170 + Math.sin(this.vec.e) * 20,\n        PT.position.z + Math.cos(this.vec.y) * Math.cos(this.vec.e) * 20\n      );\n      this.bullet.rotation.set(-this.vec.e, this.vec.y, 0);\n      scene.add(this.bullet);\n\n      this.speed = PC.bul_speed * 50;\n      // this.speed = PC.bul_speed * 0.5;\n      this.counter = 2000;\n      this.damage = PC.damage;\n    }\n    move(time_delta: number) {\n      if (!this.counter || !this.speed || !this.vec || !this.damage) return;\n      this.counter -= this.speed * time_delta;\n      if (this.counter < 0) {\n        kia_bullet(this.bullet_id);\n        return;\n      }\n\n      this.ray = new THREE.Raycaster(\n        this.bullet.position,\n        new THREE.Vector3(\n          Math.sin(this.vec.y) * Math.cos(this.vec.e),\n          Math.sin(this.vec.e),\n          Math.cos(this.vec.y) * Math.cos(this.vec.e)\n        ),\n        0,\n        this.speed * time_delta\n      );\n      if (this.exist && PCs[myPCind].model && this.ray) {\n        this.intersects = this.ray.intersectObjects([PCs[myPCind].model]);\n        if (this.intersects.length > 0) {\n          if (PCs[myPCind].PT.side != this.Pside) {\n            // const head_shot = [263, 279, 285, 313];\n            const hit_object = this.intersects[0].object;\n            // if (head_shot.find((e) => e === hit_object.id)) {\n            //   PCs[myPCind].PT.health -= this.damage * 2;\n            //   console.log(\"got head shot\", PCs[myPCind].PT.id, this.Pside);\n            // } else {\n            PCs[myPCind].PT.health -= this.damage;\n            if (PCs[myPCind].PT.health <= 0) {\n              PCs[myPCind].PT.alive = false;\n            }\n            console.log(\n              \"got body shot\",\n              PCs[myPCind].PT.id,\n              hit_object.id,\n              this.Pside\n            );\n            kia_bullet(this.bullet_id);\n            this.exist = false;\n          }\n        }\n      }\n      nPCs.forEach((nPC, i) => {\n        // nPCの処理担当はインしているPCに均等に。\n        // あと処理が深すぎるせいかeslintがdamage疑ってる。\n        if (\n          this.exist &&\n          nPC.model &&\n          this.ray &&\n          i % PCs.length == myPCind &&\n          this.damage\n        ) {\n          this.intersects = this.ray.intersectObjects([nPC.model]);\n          if (this.intersects.length > 0) {\n            if (nPC.PT.side != this.Pside) {\n              // ヘッドショット後回し\n              // const head_shot = [263, 279, 285, 313];\n              const hit_object = this.intersects[0].object;\n              // if (head_shot.find((e) => e === hit_object.id)) {\n              //   nPCs[i].PT.health -= this.damage * 2;\n              //   console.log(\"got head shot\", nPC.PT.id);\n              // } else {\n              nPCs[i].PT.health -= this.damage;\n              console.log(\"got body shot\", nPC.PT.id, hit_object.id);\n              hit_object.material.color.r = 1;\n              kia_bullet(this.bullet_id);\n              this.exist = false;\n            }\n          }\n        }\n      });\n\n      this.bullet.position.x +=\n        Math.sin(this.vec.y) * Math.cos(this.vec.e) * this.speed * time_delta;\n      this.bullet.position.y += Math.sin(this.vec.e) * this.speed * time_delta;\n      this.bullet.position.z +=\n        Math.cos(this.vec.y) * Math.cos(this.vec.e) * this.speed * time_delta;\n    }\n  }\n  function camset_fps(target_id: number) {\n    const vec = {\n      y: PCs[target_id].PT.position.y_rotation,\n      e: PCs[target_id].PT.position.elevation_angle,\n    };\n    camera.position.set(\n      PCs[target_id].PT.position.x + Math.sin(vec.y) * Math.cos(vec.e) * 37,\n      PCs[target_id].PT.position.y + 175 + Math.sin(vec.e) * 37,\n      PCs[target_id].PT.position.z + Math.cos(vec.y) * Math.cos(vec.e) * 37\n    );\n    camera.lookAt(\n      PCs[target_id].PT.position.x + Math.sin(vec.y) * Math.cos(vec.e) * 40,\n      PCs[target_id].PT.position.y + 175 + Math.sin(vec.e) * 40,\n      PCs[target_id].PT.position.z + Math.cos(vec.y) * Math.cos(vec.e) * 40\n    );\n  }\n  // function camset_test(targetPCind: number) {\n  //   camera.position.set(\n  //     PCs[targetPCind].PT.position.x,\n  //     PCs[targetPCind].PT.position.y + 100,\n  //     PCs[targetPCind].PT.position.z + 500\n  //   );\n  //   camera.lookAt(\n  //     PCs[targetPCind].PT.position.x,\n  //     PCs[targetPCind].PT.position.y + 100,\n  //     PCs[targetPCind].PT.position.z\n  //   );\n  // }\n\n  const canvas = document.getElementById(\"main_canvas\");\n  if (canvas === null) throw Error(\"main_canvas検知不能\");\n  const renderer = new THREE.WebGLRenderer({\n    canvas,\n    logarithmicDepthBuffer: true,\n  });\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(width, height);\n  const scene = new THREE.Scene();\n  const loadergltf = new GLTFLoader();\n\n  const camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 200000);\n\n  const light = new THREE.HemisphereLight(0x888888, 0x505000, 1.0);\n  scene.add(light);\n\n  let model_r: THREE.Group<THREE.Object3DEventMap>;\n  loadergltf.load(\"/game_assets/de_dust2_-_cs_map-rep.glb\", function (gltf) {\n    model_r = gltf.scene;\n    scene.add(model_r);\n    model_r.scale.set(250, 250, 250);\n    model_r.position.set(0, 0, 0);\n  });\n\n  in_nowRT.value.PTs.forEach((PT) => {\n    PCs.push(new PCins(PT));\n  });\n  in_nowRT.value.nPTs.forEach((nPT) => {\n    nPCs.push(new PCins(nPT));\n  });\n  const myPCind = PCs.findIndex((PC) => PC.PT.id === props.id);\n\n  loaded.value = true;\n  tick();\n  function tick() {\n    let time_delta = clock.getDelta();\n    debug_data.value[0][1] = Math.floor(time_delta * 1000) / 1000;\n    const nPC9 = nPCs.find((nPC) => nPC.PT.id === \"npc_9\");\n    if (nPC9) {\n      debug_data.value[2][1] = nPC9.PT.health;\n    }\n\n    PCs.forEach((PC) => {\n      PC.update(time_delta);\n    });\n    nPCs.forEach((nPC) => {\n      nPC.update(time_delta);\n    });\n    bullets.forEach((bullet) => {\n      bullet.move(time_delta);\n    });\n    if (wasd_down > 0) {\n      let move_rad: number;\n      if (wasd_down === 8) move_rad = 0;\n      else if (wasd_down === 12) move_rad = 0.25;\n      else if (wasd_down === 4) move_rad = 0.5;\n      else if (wasd_down === 6) move_rad = 0.75;\n      else if (wasd_down === 2) move_rad = 1;\n      else if (wasd_down === 3) move_rad = 1.25;\n      else if (wasd_down === 1) move_rad = 1.5;\n      else move_rad = 1.75; // 9\n      PCs[myPCind].PT.velocity.x =\n        Math.sin(Math.PI * move_rad + PCs[myPCind].PT.position.y_rotation) *\n        move_scale;\n      PCs[myPCind].PT.velocity.z =\n        Math.cos(Math.PI * move_rad + PCs[myPCind].PT.position.y_rotation) *\n        move_scale;\n    } else {\n      PCs[myPCind].PT.velocity.x *= 0.5;\n      PCs[myPCind].PT.velocity.z *= 0.5;\n    }\n    PCs[myPCind].PT.position.y_rotation -= mouse_x * 0.06;\n    PCs[myPCind].PT.position.elevation_angle -= mouse_y * 0.06;\n    if (PCs[myPCind].PT.position.elevation_angle > 0.125 * Math.PI)\n      PCs[myPCind].PT.position.elevation_angle = 0.125 * Math.PI;\n    if (PCs[myPCind].PT.position.elevation_angle < -0.03125 * Math.PI)\n      PCs[myPCind].PT.position.elevation_angle = -0.03125 * Math.PI;\n    props.socket.emit(\"syncT\", { time: Date.now(), PT: PCs[myPCind].PT });\n    nPCs.forEach((nPC, i) => {\n      if (i % PCs.length === myPCind) {\n        props.socket.emit(\"npc_syncT\", nPC.PT);\n      }\n    });\n    if (\n      mouse_down &&\n      PCs[myPCind].reloading_time < 0 &&\n      PCs[myPCind].rensha_cool_time < 0\n    ) {\n      props.socket.emit(\"fire\", {\n        T: PCs[myPCind].PT,\n        weapon_id: PCs[myPCind].PT.weapon_ids.main,\n        ammo_is: PCs[myPCind].ammo > 0,\n      });\n      PCs[myPCind].rensha_cool_time = PCs[myPCind].rensha;\n      PCs[myPCind].ammo--;\n    }\n    if (t_down && !PCs[myPCind].PT.alive) {\n      PCs[myPCind].PT.position = PCs[myPCind].PT.spawn_point;\n      props.socket.emit(\"spawn\", PCs[myPCind].PT);\n    }\n    hud_rendingPT.value = PCs[myPCind].PT;\n    hud_rending_ammo.value = PCs[myPCind].ammo;\n    hud_reloading_progress.value =\n      PCs[myPCind].reloading_time / PCs[myPCind].reload_time;\n    // fovcos += 0.01;\n    // camera.fov = (Math.cos(fovcos) + 1) * 5 + 60;\n    // camera.updateProjectionMatrix();\n    // camset_test(myPCind);\n    camset_fps(myPCind);\n    renderer.render(scene, camera); // レンダリング\n    requestAnimationFrame(tick);\n  }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (!loaded.value)\n      ? (_openBlock(), _createElementBlock(\"img\", _hoisted_1))\n      : _createCommentVNode(\"\", true),\n    (hud_rendingPT.value)\n      ? (_openBlock(), _createBlock(hud_view, {\n          key: 1,\n          hud_data: {\n      PT: hud_rendingPT.value,\n      ammo: hud_rending_ammo.value,\n      reloading_progress: hud_reloading_progress.value,\n    },\n          debug_data: debug_data.value\n        }, null, 8, [\"hud_data\", \"debug_data\"]))\n      : _createCommentVNode(\"\", true),\n    _cache[0] || (_cache[0] = _createElementVNode(\"canvas\", { id: \"main_canvas\" }, null, -1))\n  ], 64))\n}\n}\n\n})","<!-- ゲーム画面表示、ゲーム内データストリーム管理 -->\n<script setup lang=\"ts\">\nimport { onMounted, defineProps, ref } from \"vue\";\nimport hud_view from \"./hud_view.vue\";\nimport type { RT, PT } from \"@/@types/types\";\nimport * as THREE from \"three\";\nimport { GLTFLoader, GLTF } from \"three/examples/jsm/loaders/GLTFLoader.js\";\nimport { Socket } from \"socket.io-client\";\nlet width = window.innerWidth;\nlet height = window.innerHeight;\nlet mouse_x = 0;\nlet mouse_y = 0;\nconst models_dic = {\n  desert_eagle: \"/game_assets/desert_eagle_reload_animation.glb\",\n  fn_fal: \"/game_assets/fn_fal_reload_animation.glb\",\n  g3: \"/game_assets/g3_reload_animation.glb\",\n};\nconst loaded = ref(false);\nconst props = defineProps<{\n  socket: Socket;\n  in_nowRT: RT;\n  id: string;\n}>();\nconst in_nowRT = ref(props.in_nowRT);\nconst hud_rendingPT = ref<PT>();\nconst hud_rending_ammo = ref(0);\nconst hud_reloading_progress = ref(0);\nconst debug_data = ref<(string | number)[][]>([\n  [\"time_delta\", 1],\n  [\"syncT time delta\", 1],\n  [\"npc 9 HP\", 1],\n]);\n\nonMounted(async () => {\n  console.log(in_nowRT);\n  let wasd_down = 0;\n  let t_down = false;\n  let mouse_down = false;\n  const clock = new THREE.Clock();\n  const move_scale = 850;\n  let PCs: PCins[] = [];\n  let nPCs: PCins[] = [];\n  let bullets: bullet_ins[] = [];\n\n  window.addEventListener(\"resize\", () => {\n    width = window.innerWidth;\n    height = window.innerHeight;\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(width, height);\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n  });\n  document.body.addEventListener(\"keydown\", (event) => {\n    if (\n      PCs &&\n      PCs.every((PC) => {\n        PC.model;\n      })\n    )\n      return -1;\n    if (event.key === \"w\") {\n      wasd_down |= 0b1000;\n    }\n    if (event.key === \"a\") {\n      wasd_down |= 0b0100;\n    }\n    if (event.key === \"s\") {\n      wasd_down |= 0b0010;\n    }\n    if (event.key === \"d\") {\n      wasd_down |= 0b0001;\n    }\n    if (event.key === \"t\") {\n      t_down = true;\n    }\n    if (event.key === \"r\") {\n      if (PCs[myPCind]) PCs[myPCind].reload();\n    }\n    if (event.key === \"z\") {\n      if (PCs[myPCind]) PCs[myPCind].PT.sitting = !PCs[myPCind].PT.sitting;\n    }\n    if (event.shiftKey) {\n      if (PCs[myPCind]) PCs[myPCind].PT.running = !PCs[myPCind].PT.running;\n    }\n  });\n  document.body.addEventListener(\"keyup\", (event) => {\n    if (event.key === \"w\") {\n      wasd_down &= 0b0111;\n    }\n    if (event.key === \"a\") {\n      wasd_down &= 0b1011;\n    }\n    if (event.key === \"s\") {\n      wasd_down &= 0b1101;\n    }\n    if (event.key === \"d\") {\n      wasd_down &= 0b1110;\n    }\n    if (event.key === \"t\") {\n      t_down = false;\n    }\n  });\n  document.body.addEventListener(\"mousedown\", () => {\n    mouse_down = true;\n  });\n  document.body.addEventListener(\"mouseup\", () => {\n    mouse_down = false;\n    if (PCs[myPCind]) PCs[myPCind].rensha_cool_time = 0;\n  });\n\n  document.addEventListener(\"mousemove\", (event) => {\n    mouse_x = event.pageX / width - 0.5;\n    mouse_y = event.pageY / height - 0.5;\n  });\n  document.addEventListener(\"mouseleave\", () => {\n    mouse_x = 0;\n    mouse_y = 0;\n  });\n\n  props.socket.on(\"syncT\", (arg: { PTs: PT[]; nPTs: PT[]; time: number }) => {\n    debug_data.value[1][1] = (Date.now() - arg.time) / 1000;\n    if (PCs) {\n      arg.PTs.forEach((newPT, PCind) => {\n        if (PCind != myPCind) {\n          if (PCind < PCs.length) PCs[PCind].PT = newPT;\n          else PCs.push(new PCins(newPT));\n        }\n      });\n      if (arg.nPTs.length < nPCs.length) {\n        const removed = nPCs.splice(0, nPCs.length - arg.nPTs.length);\n        removed.forEach((nPC) => {\n          if (nPC.model) scene.remove(nPC.model);\n        });\n      }\n      arg.nPTs.forEach((new_nPT, nPCind) => {\n        if (nPCind % PCs.length !== myPCind) nPCs[nPCind].PT = new_nPT;\n      });\n    }\n  });\n  props.socket.on(\n    \"fire\",\n    (data: { T: PT; weapon_id: string; ammo_is: boolean }) => {\n      const PCind = PCs.findIndex((PC) => PC.PT.id === data.T.id);\n      if (PCind !== -1) PCs[PCind].PT = data.T;\n      PCs[PCind].shot(data.weapon_id, data.ammo_is);\n    }\n  );\n  props.socket.on(\"spawn\", (PT: PT) => {\n    const PCind = PCs.findIndex((PC) => PC.PT.id === PT.id);\n    if (PCind !== -1 && PCind !== myPCind) PCs[PCind].PT = PT;\n    PCs[PCind].spawn();\n  });\n\n  // プレイヤーキャラクターインスタンス\n  class PCins {\n    PT: PT;\n    semi_auto: boolean;\n    reload_time: number;\n    reloading_time: number;\n    rensha: number;\n    rensha_cool_time: number;\n    max_ammo: number;\n    ammo: number;\n    damage: number;\n    bul_speed: number;\n    repopcount: number;\n    shot_sound: HTMLAudioElement;\n    reload_sound: HTMLAudioElement;\n    noshot_sound: HTMLAudioElement;\n    model_path: string;\n    gltf: GLTF | undefined;\n    model: THREE.Object3D | undefined;\n    mixer: THREE.AnimationMixer | undefined;\n    animations: Map<string, THREE.AnimationClip>;\n    now_animation: THREE.AnimationClip | undefined;\n    action: THREE.AnimationAction | undefined;\n    constructor(PT: PT) {\n      this.PT = PT;\n      switch (this.PT.weapon_ids.main) {\n        case \"desert_eagle\": // デザートイーグル\n          this.rensha = 1;\n          this.max_ammo = 7;\n          this.damage = 3;\n          this.bul_speed = 460;\n          this.semi_auto = true;\n          this.reload_time = 2.5;\n          break;\n        case \"fn_fal\": // fal\n          this.rensha = 0.091;\n          this.max_ammo = 20;\n          this.damage = 0.6;\n          this.bul_speed = 823;\n          this.semi_auto = false;\n          this.reload_time = 2.0;\n          break;\n        case \"g3\": // G3\n          this.rensha = 0.1;\n          this.max_ammo = 30;\n          this.damage = 0.5;\n          this.bul_speed = 790;\n          this.semi_auto = false;\n          this.reload_time = 5.5;\n          break;\n      }\n      this.model = undefined;\n      this.shot_sound = new Audio(\"/game_assets/submachinegun.mp3\");\n      this.reload_sound = new Audio(\"/game_assets/pompaction.mp3\");\n      this.noshot_sound = new Audio(\"/game_assets/pompaction_none.mp3\");\n      this.model_path = models_dic[this.PT.weapon_ids.main];\n      this.animations = new Map([]);\n      this.reloading_time = 0;\n      this.rensha_cool_time = 0;\n      this.repopcount = 2;\n      this.ammo = 0;\n      this.mixer = undefined;\n      this.init();\n    }\n\n    async init() {\n      this.gltf = await loadergltf.loadAsync(this.model_path);\n      this.model = this.gltf.scene;\n      if (!this.model) throw Error(this.model_path + \"ロード失敗\");\n      if (this.gltf.animations.length > 0) {\n        this.gltf.animations.forEach((clip: THREE.AnimationClip) => {\n          // アニメーションをnameインデックスに\n          this.animations.set(clip.name, clip);\n        });\n        this.mixer = new THREE.AnimationMixer(this.model);\n      }\n      scene.add(this.model);\n      if (\n        this.PT.weapon_ids.main === \"desert_eagle\" ||\n        this.PT.weapon_ids.main === \"g3\"\n      ) {\n        this.model.scale.set(1.08, 1.08, 1.08);\n      } else if (this.PT.weapon_ids.main === \"fn_fal\") {\n        this.model.scale.set(91.8, 91.8, 91.8);\n      }\n      console.log(this.PT.id, this.animations.keys(), this.model);\n      if (props.id === this.PT.id) this.spawn();\n      else this.update(0.01);\n    }\n\n    reload() {\n      if (this.reloading_time <= 0) {\n        this.anim_change(\"reload\");\n        this.reloading_time = this.reload_time;\n        if (this.shot_sound.readyState === 4) {\n          this.reload_sound.pause();\n          this.reload_sound.currentTime = 0;\n          this.reload_sound.play();\n        }\n        this.ammo = this.max_ammo;\n      }\n    }\n\n    update(time_delta: number) {\n      if (!this.model) return -1;\n      if (this.repopcount >= 0) this.repopcount -= time_delta;\n      if (this.rensha_cool_time >= 0) this.rensha_cool_time -= time_delta;\n      if (this.reloading_time >= 0) this.reloading_time -= time_delta;\n      let poseflag = true;\n      if (this.reloading_time >= 0) poseflag = false;\n\n      if (this.PT.sitting && poseflag) {\n        this.anim_change(\"sit\");\n        poseflag = false;\n        // sitとrunは未実装。以下のoriginコードを参照に。\n        //   if (this.statuses & 0b1000) this.nowspeed += (2 - this.nowspeed) * 0.1;\n        //   else this.nowspeed += (0.8 - this.nowspeed) * 0.2;\n        // } else {\n        //   this.nowspeed += (0.3 - this.nowspeed) * 0.03;\n      }\n\n      if (\n        (this.repopcount >= 0 &&\n          Math.ceil(this.repopcount ** 2 / 5 + this.repopcount * 5) % 2) ||\n        !this.PT.alive\n      )\n        this.model.visible = false;\n      else this.model.visible = true;\n\n      this.PT.position.x += this.PT.velocity.x * time_delta;\n      this.PT.position.y += this.PT.velocity.y * time_delta;\n      this.PT.position.z += this.PT.velocity.z * time_delta;\n      this.model.position.set(\n        this.PT.position.x,\n        this.PT.position.y,\n        this.PT.position.z\n      );\n      PCs[myPCind].PT.velocity.x *= 0.8;\n      PCs[myPCind].PT.velocity.z *= 0.8;\n      if (\n        this.PT.velocity.x ** 2 +\n          this.PT.velocity.y ** 2 +\n          this.PT.velocity.z ** 2 >\n          0.1 &&\n        poseflag\n      ) {\n        this.anim_change(\"walk\");\n        poseflag = false;\n      }\n      this.PT.position.y_rotation += this.PT.velocity.y_rotation * time_delta;\n      this.PT.position.elevation_angle +=\n        this.PT.velocity.elevation_angle * time_delta;\n      this.model.rotation.set(0, this.PT.position.y_rotation, 0);\n      this.PT.velocity.y_rotation /= 0.1;\n      this.PT.velocity.elevation_angle /= 0.1;\n\n      if (poseflag) this.anim_change(\"pose\");\n      if (this.mixer) this.mixer.update(time_delta);\n    }\n\n    shot(weapon_id: string, ammo_is: boolean) {\n      if (!loaded.value) return -1;\n      if (ammo_is) {\n        // this.ammo--;\n        bullets.push(new bullet_ins(this.PT));\n        if (this.shot_sound.readyState === 4) {\n          this.shot_sound.pause();\n          this.shot_sound.currentTime = 0;\n          this.shot_sound.play();\n        }\n      } else {\n        // 空打ち\n        if (this.noshot_sound.readyState === 4) {\n          this.noshot_sound.pause();\n          this.noshot_sound.currentTime = 0;\n          this.noshot_sound.play();\n        }\n      }\n    }\n\n    spawn() {\n      this.repopcount = 3;\n      this.rensha_cool_time = 2;\n      this.PT.alive = true;\n      this.PT.health = 10;\n      this.PT.death++;\n      this.PT.position = this.PT.spawn_point;\n      this.PT.sitting = false;\n      this.PT.running = false;\n    }\n    anim_change(mode: string) {\n      if (\n        (!this.now_animation || this.now_animation.name != mode) &&\n        this.mixer\n      ) {\n        console.log(mode);\n        if (mode === \"reload\" && this.animations.has(\"KeptYouWaitingHuh?\")) {\n          // アニメーションを作ってないfal用\n          this.mixer.stopAllAction();\n          if (this.action) this.action.reset();\n          this.now_animation = this.animations.get(\"KeptYouWaitingHuh?\");\n          if (!this.now_animation) return -1;\n          this.action = this.mixer.clipAction(this.now_animation);\n          this.action.setLoop(THREE.LoopOnce, 1);\n          this.action.clampWhenFinished = true;\n          this.action.play();\n        } else {\n          this.mixer.stopAllAction();\n          if (this.action) this.action.reset();\n          this.now_animation = this.animations.get(mode);\n          if (!this.now_animation) return -1;\n          this.action = this.mixer.clipAction(this.now_animation);\n          this.action.setLoop(THREE.LoopRepeat, 999999);\n          this.action.clampWhenFinished = true;\n          this.action.play();\n        }\n      }\n    }\n  }\n  function kia_bullet(bullet_id: number) {\n    let target_bullet_ind = bullets.findIndex((b) => b.bullet_id === bullet_id);\n    if (target_bullet_ind !== -1) {\n      scene.remove(bullets[target_bullet_ind].bullet);\n      bullets.splice(target_bullet_ind, 1);\n    } else {\n      console.error(\"error kia bullet\", bullets.length);\n    }\n  }\n  class bullet_ins {\n    bullet: THREE.Mesh<\n      THREE.BoxGeometry,\n      THREE.MeshBasicMaterial,\n      THREE.Object3DEventMap\n    >;\n    bullet_id: number;\n    Pside: number;\n    vec: { y: number; e: number } | undefined;\n    speed: number | undefined;\n    counter: number | undefined;\n    damage: number | undefined;\n    ray: THREE.Raycaster | undefined;\n    // material.DepthがTSで表現できないため。\n    intersects: any[] | undefined;\n    exist: boolean;\n    constructor(T: PT) {\n      this.bullet = new THREE.Mesh(\n        new THREE.BoxGeometry(3, 3, 6),\n        new THREE.MeshBasicMaterial({ color: 0xff0000 })\n      );\n      this.Pside = T.side;\n      this.bullet_id = Math.random();\n      this.exist = true;\n      const PT = T;\n      const PC = PCs.find((PC) => PC.PT.id === T.id);\n      if (!PC) {\n        kia_bullet(this.bullet_id);\n        return;\n      }\n      this.vec = { y: PT.position.y_rotation, e: PT.position.elevation_angle };\n      this.bullet.position.set(\n        PT.position.x + Math.sin(this.vec.y) * Math.cos(this.vec.e) * 20,\n        PT.position.y + 170 + Math.sin(this.vec.e) * 20,\n        PT.position.z + Math.cos(this.vec.y) * Math.cos(this.vec.e) * 20\n      );\n      this.bullet.rotation.set(-this.vec.e, this.vec.y, 0);\n      scene.add(this.bullet);\n\n      this.speed = PC.bul_speed * 50;\n      // this.speed = PC.bul_speed * 0.5;\n      this.counter = 2000;\n      this.damage = PC.damage;\n    }\n    move(time_delta: number) {\n      if (!this.counter || !this.speed || !this.vec || !this.damage) return;\n      this.counter -= this.speed * time_delta;\n      if (this.counter < 0) {\n        kia_bullet(this.bullet_id);\n        return;\n      }\n\n      this.ray = new THREE.Raycaster(\n        this.bullet.position,\n        new THREE.Vector3(\n          Math.sin(this.vec.y) * Math.cos(this.vec.e),\n          Math.sin(this.vec.e),\n          Math.cos(this.vec.y) * Math.cos(this.vec.e)\n        ),\n        0,\n        this.speed * time_delta\n      );\n      if (this.exist && PCs[myPCind].model && this.ray) {\n        this.intersects = this.ray.intersectObjects([PCs[myPCind].model]);\n        if (this.intersects.length > 0) {\n          if (PCs[myPCind].PT.side != this.Pside) {\n            // const head_shot = [263, 279, 285, 313];\n            const hit_object = this.intersects[0].object;\n            // if (head_shot.find((e) => e === hit_object.id)) {\n            //   PCs[myPCind].PT.health -= this.damage * 2;\n            //   console.log(\"got head shot\", PCs[myPCind].PT.id, this.Pside);\n            // } else {\n            PCs[myPCind].PT.health -= this.damage;\n            if (PCs[myPCind].PT.health <= 0) {\n              PCs[myPCind].PT.alive = false;\n            }\n            console.log(\n              \"got body shot\",\n              PCs[myPCind].PT.id,\n              hit_object.id,\n              this.Pside\n            );\n            kia_bullet(this.bullet_id);\n            this.exist = false;\n          }\n        }\n      }\n      nPCs.forEach((nPC, i) => {\n        // nPCの処理担当はインしているPCに均等に。\n        // あと処理が深すぎるせいかeslintがdamage疑ってる。\n        if (\n          this.exist &&\n          nPC.model &&\n          this.ray &&\n          i % PCs.length == myPCind &&\n          this.damage\n        ) {\n          this.intersects = this.ray.intersectObjects([nPC.model]);\n          if (this.intersects.length > 0) {\n            if (nPC.PT.side != this.Pside) {\n              // ヘッドショット後回し\n              // const head_shot = [263, 279, 285, 313];\n              const hit_object = this.intersects[0].object;\n              // if (head_shot.find((e) => e === hit_object.id)) {\n              //   nPCs[i].PT.health -= this.damage * 2;\n              //   console.log(\"got head shot\", nPC.PT.id);\n              // } else {\n              nPCs[i].PT.health -= this.damage;\n              console.log(\"got body shot\", nPC.PT.id, hit_object.id);\n              hit_object.material.color.r = 1;\n              kia_bullet(this.bullet_id);\n              this.exist = false;\n            }\n          }\n        }\n      });\n\n      this.bullet.position.x +=\n        Math.sin(this.vec.y) * Math.cos(this.vec.e) * this.speed * time_delta;\n      this.bullet.position.y += Math.sin(this.vec.e) * this.speed * time_delta;\n      this.bullet.position.z +=\n        Math.cos(this.vec.y) * Math.cos(this.vec.e) * this.speed * time_delta;\n    }\n  }\n  function camset_fps(target_id: number) {\n    const vec = {\n      y: PCs[target_id].PT.position.y_rotation,\n      e: PCs[target_id].PT.position.elevation_angle,\n    };\n    camera.position.set(\n      PCs[target_id].PT.position.x + Math.sin(vec.y) * Math.cos(vec.e) * 37,\n      PCs[target_id].PT.position.y + 175 + Math.sin(vec.e) * 37,\n      PCs[target_id].PT.position.z + Math.cos(vec.y) * Math.cos(vec.e) * 37\n    );\n    camera.lookAt(\n      PCs[target_id].PT.position.x + Math.sin(vec.y) * Math.cos(vec.e) * 40,\n      PCs[target_id].PT.position.y + 175 + Math.sin(vec.e) * 40,\n      PCs[target_id].PT.position.z + Math.cos(vec.y) * Math.cos(vec.e) * 40\n    );\n  }\n  // function camset_test(targetPCind: number) {\n  //   camera.position.set(\n  //     PCs[targetPCind].PT.position.x,\n  //     PCs[targetPCind].PT.position.y + 100,\n  //     PCs[targetPCind].PT.position.z + 500\n  //   );\n  //   camera.lookAt(\n  //     PCs[targetPCind].PT.position.x,\n  //     PCs[targetPCind].PT.position.y + 100,\n  //     PCs[targetPCind].PT.position.z\n  //   );\n  // }\n\n  const canvas = document.getElementById(\"main_canvas\");\n  if (canvas === null) throw Error(\"main_canvas検知不能\");\n  const renderer = new THREE.WebGLRenderer({\n    canvas,\n    logarithmicDepthBuffer: true,\n  });\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(width, height);\n  const scene = new THREE.Scene();\n  const loadergltf = new GLTFLoader();\n\n  const camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 200000);\n\n  const light = new THREE.HemisphereLight(0x888888, 0x505000, 1.0);\n  scene.add(light);\n\n  let model_r: THREE.Group<THREE.Object3DEventMap>;\n  loadergltf.load(\"/game_assets/de_dust2_-_cs_map-rep.glb\", function (gltf) {\n    model_r = gltf.scene;\n    scene.add(model_r);\n    model_r.scale.set(250, 250, 250);\n    model_r.position.set(0, 0, 0);\n  });\n\n  in_nowRT.value.PTs.forEach((PT) => {\n    PCs.push(new PCins(PT));\n  });\n  in_nowRT.value.nPTs.forEach((nPT) => {\n    nPCs.push(new PCins(nPT));\n  });\n  const myPCind = PCs.findIndex((PC) => PC.PT.id === props.id);\n\n  loaded.value = true;\n  tick();\n  function tick() {\n    let time_delta = clock.getDelta();\n    debug_data.value[0][1] = Math.floor(time_delta * 1000) / 1000;\n    const nPC9 = nPCs.find((nPC) => nPC.PT.id === \"npc_9\");\n    if (nPC9) {\n      debug_data.value[2][1] = nPC9.PT.health;\n    }\n\n    PCs.forEach((PC) => {\n      PC.update(time_delta);\n    });\n    nPCs.forEach((nPC) => {\n      nPC.update(time_delta);\n    });\n    bullets.forEach((bullet) => {\n      bullet.move(time_delta);\n    });\n    if (wasd_down > 0) {\n      let move_rad: number;\n      if (wasd_down === 8) move_rad = 0;\n      else if (wasd_down === 12) move_rad = 0.25;\n      else if (wasd_down === 4) move_rad = 0.5;\n      else if (wasd_down === 6) move_rad = 0.75;\n      else if (wasd_down === 2) move_rad = 1;\n      else if (wasd_down === 3) move_rad = 1.25;\n      else if (wasd_down === 1) move_rad = 1.5;\n      else move_rad = 1.75; // 9\n      PCs[myPCind].PT.velocity.x =\n        Math.sin(Math.PI * move_rad + PCs[myPCind].PT.position.y_rotation) *\n        move_scale;\n      PCs[myPCind].PT.velocity.z =\n        Math.cos(Math.PI * move_rad + PCs[myPCind].PT.position.y_rotation) *\n        move_scale;\n    } else {\n      PCs[myPCind].PT.velocity.x *= 0.5;\n      PCs[myPCind].PT.velocity.z *= 0.5;\n    }\n    PCs[myPCind].PT.position.y_rotation -= mouse_x * 0.06;\n    PCs[myPCind].PT.position.elevation_angle -= mouse_y * 0.06;\n    if (PCs[myPCind].PT.position.elevation_angle > 0.125 * Math.PI)\n      PCs[myPCind].PT.position.elevation_angle = 0.125 * Math.PI;\n    if (PCs[myPCind].PT.position.elevation_angle < -0.03125 * Math.PI)\n      PCs[myPCind].PT.position.elevation_angle = -0.03125 * Math.PI;\n    props.socket.emit(\"syncT\", { time: Date.now(), PT: PCs[myPCind].PT });\n    nPCs.forEach((nPC, i) => {\n      if (i % PCs.length === myPCind) {\n        props.socket.emit(\"npc_syncT\", nPC.PT);\n      }\n    });\n    if (\n      mouse_down &&\n      PCs[myPCind].reloading_time < 0 &&\n      PCs[myPCind].rensha_cool_time < 0\n    ) {\n      props.socket.emit(\"fire\", {\n        T: PCs[myPCind].PT,\n        weapon_id: PCs[myPCind].PT.weapon_ids.main,\n        ammo_is: PCs[myPCind].ammo > 0,\n      });\n      PCs[myPCind].rensha_cool_time = PCs[myPCind].rensha;\n      PCs[myPCind].ammo--;\n    }\n    if (t_down && !PCs[myPCind].PT.alive) {\n      PCs[myPCind].PT.position = PCs[myPCind].PT.spawn_point;\n      props.socket.emit(\"spawn\", PCs[myPCind].PT);\n    }\n    hud_rendingPT.value = PCs[myPCind].PT;\n    hud_rending_ammo.value = PCs[myPCind].ammo;\n    hud_reloading_progress.value =\n      PCs[myPCind].reloading_time / PCs[myPCind].reload_time;\n    // fovcos += 0.01;\n    // camera.fov = (Math.cos(fovcos) + 1) * 5 + 60;\n    // camera.updateProjectionMatrix();\n    // camset_test(myPCind);\n    camset_fps(myPCind);\n    renderer.render(scene, camera); // レンダリング\n    requestAnimationFrame(tick);\n  }\n});\n</script>\n\n<style scoped>\nimg {\n  position: absolute;\n  z-index: 2;\n  width: 60%;\n  left: 20%;\n  top: 20%;\n}\ncanvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  overflow: hidden;\n  user-select: none;\n}\n</style>\n\n<template>\n  <img src=\"../assets/ozisanoffense_logo.png\" alt=\"title_wall\" v-if=\"!loaded\" />\n  <hud_view\n    v-if=\"hud_rendingPT\"\n    :hud_data=\"{\n      PT: hud_rendingPT,\n      ammo: hud_rending_ammo,\n      reloading_progress: hud_reloading_progress,\n    }\"\n    :debug_data=\"debug_data\"\n  />\n  <canvas id=\"main_canvas\" />\n</template>\n","import script from \"./graphic_view.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./graphic_view.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./graphic_view.vue?vue&type=style&index=0&id=0b09c54a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0b09c54a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport { ref } from \"vue\";\nimport login_manager from \"./components/login_manager.vue\";\nimport room_access from \"./components/room_access.vue\";\nimport graphic_view from \"./components/graphic_view.vue\";\nimport type { PS, RT } from \"@/@types/types\";\nimport { io } from \"socket.io-client\";\n// const socket = io(\"http://192.168.11.17:8081\", {\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\nconst socket = io(\"https://ozisan-offense.onrender.com\", {\n  withCredentials: true,\n});\n\nconst myPS = ref<PS>({\n  id: \"\",\n  R: \"\",\n  connection: false,\n  ip: \"\",\n});\nconst in_nowRT = ref<RT>();\n\nsocket.on(\"reconnection\", (id: string, R: string) => {\n  myPS.value.id = id;\n  myPS.value.R = R;\n  myPS.value.connection = true;\n});\nsocket.on(\"reconnectionR\", (R: RT) => {\n  in_nowRT.value = R;\n});\nsocket.on(\"login_false\", (message: string) => {\n  alert(message);\n  myPS.value = {\n    id: \"\",\n    R: \"\",\n    connection: false,\n    ip: \"\",\n  };\n});\nsocket.on(\"Rfalse\", (message: string) => {\n  alert(message);\n  myPS.value.R = \"&lobby\";\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (!myPS.value.connection)\n    ? (_openBlock(), _createBlock(login_manager, {\n        key: 0,\n        socket: _unref(socket),\n        onVomitPS: _cache[0] || (_cache[0] = (PS) => { myPS.value = PS; })\n      }, null, 8, [\"socket\"]))\n    : (myPS.value.R == '&lobby')\n      ? (_openBlock(), _createBlock(room_access, {\n          key: 1,\n          socket: _unref(socket),\n          onVomit_RT: _cache[1] || (_cache[1] = (RT) => { myPS.value.R = RT.Rid; in_nowRT.value = RT; })\n        }, null, 8, [\"socket\"]))\n      : (myPS.value.R.charAt(0) != '&' && in_nowRT.value)\n        ? (_openBlock(), _createBlock(graphic_view, {\n            key: 2,\n            socket: _unref(socket),\n            in_nowRT: in_nowRT.value,\n            id: myPS.value.id\n          }, null, 8, [\"socket\", \"in_nowRT\", \"id\"]))\n        : _createCommentVNode(\"\", true)\n}\n}\n\n})","<!-- フレーム全体管理 -->\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport login_manager from \"./components/login_manager.vue\";\nimport room_access from \"./components/room_access.vue\";\nimport graphic_view from \"./components/graphic_view.vue\";\nimport type { PS, RT } from \"@/@types/types\";\nimport { io } from \"socket.io-client\";\n// const socket = io(\"http://192.168.11.17:8081\", {\nconst socket = io(\"https://ozisan-offense.onrender.com\", {\n  withCredentials: true,\n});\n\nconst myPS = ref<PS>({\n  id: \"\",\n  R: \"\",\n  connection: false,\n  ip: \"\",\n});\nconst in_nowRT = ref<RT>();\n\nsocket.on(\"reconnection\", (id: string, R: string) => {\n  myPS.value.id = id;\n  myPS.value.R = R;\n  myPS.value.connection = true;\n});\nsocket.on(\"reconnectionR\", (R: RT) => {\n  in_nowRT.value = R;\n});\nsocket.on(\"login_false\", (message: string) => {\n  alert(message);\n  myPS.value = {\n    id: \"\",\n    R: \"\",\n    connection: false,\n    ip: \"\",\n  };\n});\nsocket.on(\"Rfalse\", (message: string) => {\n  alert(message);\n  myPS.value.R = \"&lobby\";\n});\n</script>\n\n<style scoped>\nbody {\n  border: double 10px #f0f;\n}\n</style>\n\n<template>\n  <login_manager\n    v-if=\"!myPS.connection\"\n    :socket=\"socket\"\n    @vomitPS=\"(PS: PS) => { myPS = PS; }\"\n  />\n  <room_access\n    v-else-if=\"myPS.R == '&lobby'\"\n    :socket=\"socket\"\n    @vomit_RT=\"(RT: RT) => { myPS.R = RT.Rid; in_nowRT = RT; }\"\n  />\n  <graphic_view\n    v-else-if=\"myPS.R.charAt(0) != '&' && in_nowRT\"\n    :socket=\"socket\"\n    :in_nowRT=\"in_nowRT\"\n    :id=\"myPS.id\"\n  />\n</template>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2de510fd&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2de510fd\"]])\n\nexport default __exports__","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\n\ncreateApp(App).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkozisan_offense\"] = self[\"webpackChunkozisan_offense\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(452); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_defineComponent","__name","props","socket","emits","setup","__props","emit","__emit","id","ref","on","PS","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_createElementVNode","class","onSubmit","_withModifiers","$event","value","_withDirectives","type","_vModelText","__exports__","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","selectRid","select_map","select_mode","Rs","createR","Rid","map","mode","alert","vomited_Rs","console","log","RT","_createTextVNode","name","_vModelSelect","_renderList","R","i","key","onClick","_toDisplayString","PTs","length","hud_data","debug_data","d","PT","alive","_createCommentVNode","health","ammo","Math","floor","cos","reloading_progress","src","_imports_0","alt","_imports_1","style","_normalizeStyle","in_nowRT","width","window","innerWidth","height","innerHeight","mouse_x","mouse_y","models_dic","desert_eagle","fn_fal","g3","loaded","hud_rendingPT","hud_rending_ammo","hud_reloading_progress","onMounted","async","wasd_down","t_down","mouse_down","clock","THREE","move_scale","PCs","nPCs","bullets","addEventListener","renderer","setPixelRatio","devicePixelRatio","setSize","camera","aspect","updateProjectionMatrix","document","body","event","every","PC","model","myPCind","reload","sitting","shiftKey","running","rensha_cool_time","pageX","pageY","arg","Date","now","time","forEach","newPT","PCind","push","PCins","nPTs","removed","splice","nPC","scene","remove","new_nPT","nPCind","data","findIndex","T","shot","weapon_id","ammo_is","spawn","constructor","_defineProperty","this","weapon_ids","main","rensha","max_ammo","damage","bul_speed","semi_auto","reload_time","undefined","shot_sound","Audio","reload_sound","noshot_sound","model_path","animations","Map","reloading_time","repopcount","mixer","init","gltf","loadergltf","loadAsync","Error","clip","set","add","scale","keys","update","anim_change","readyState","pause","currentTime","play","time_delta","poseflag","ceil","visible","position","x","velocity","y","z","y_rotation","elevation_angle","rotation","bullet_ins","death","spawn_point","now_animation","has","stopAllAction","action","reset","get","clipAction","setLoop","clampWhenFinished","kia_bullet","bullet_id","target_bullet_ind","b","bullet","error","color","Pside","side","random","exist","find","vec","e","sin","speed","counter","move","ray","intersects","intersectObjects","hit_object","object","material","r","camset_fps","target_id","lookAt","canvas","getElementById","logarithmicDepthBuffer","GLTFLoader","light","model_r","load","nPT","tick","getDelta","nPC9","move_rad","PI","render","requestAnimationFrame","_createBlock","hud_view","io","withCredentials","myPS","connection","ip","message","room_access","_unref","onVomit_RT","charAt","graphic_view","login_manager","onVomitPS","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}