(function(){"use strict";var e={7726:function(e,t,i){var o=i(3751),s=i(641),n=i(953),a=(0,s.pM)({__name:"login_manager",props:{socket:{}},emits:["vomitPS"],setup(e,{emit:t}){const i=e,a=t,h=(0,n.KR)("");return i.socket.on("login_success",(e=>{a("vomitPS",e)})),(e,t)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[t[4]||(t[4]=(0,s.Lk)("h2",null,"ログイン（ダミー）",-1)),(0,s.Lk)("form",{class:"frame",onSubmit:t[1]||(t[1]=(0,o.D$)((t=>e.socket.emit("login",h.value)),["prevent"]))},[t[2]||(t[2]=(0,s.Lk)("label",null,"IDを入力してください：",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>h.value=e)},null,512),[[o.Jo,h.value]]),t[3]||(t[3]=(0,s.Lk)("input",{type:"submit"},null,-1))],32)],64))}}),h=i(6262);const l=(0,h.A)(a,[["__scopeId","data-v-60d38fc4"]]);var d=l,c=i(33);const r={class:"frame"},u={id:"createRform"},A={id:"createRoptions"},m=["onClick"],p={class:"bottom_population_text"},v={class:"bottom_map_text"},w={class:"bottom_main_text"},f={class:"bottom_mode_text"};var g=(0,s.pM)({__name:"room_access",props:{socket:{}},emits:["vomit_RT"],setup(e,{emit:t}){const i=e,a=t,h=(0,n.KR)(""),l=(0,n.KR)("origin"),d=(0,n.KR)("deathmatch"),g=(0,n.KR)([]);function P(e,t,o){""!=e?i.socket.emit("createR",{Rid:e,map:t,mode:o}):alert("Ridは入力必須です。")}return i.socket.emit("getRs"),i.socket.on("vomitRs",(e=>{console.log(e),g.value=e})),i.socket.on("Rsuccess",(e=>{a("vomit_RT",e),console.log(e)})),(e,t)=>((0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)((e=>P(h.value,l.value,d.value)),["prevent"]))},[(0,s.Lk)("div",u,[t[11]||(t[11]=(0,s.Lk)("h3",null,"部屋を作る",-1)),(0,s.Lk)("div",A,[t[6]||(t[6]=(0,s.eW)(" Rid:")),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>h.value=e)},null,512),[[o.Jo,h.value]]),t[7]||(t[7]=(0,s.Lk)("br",null,null,-1)),t[8]||(t[8]=(0,s.eW)(" select_map:")),(0,s.bo)((0,s.Lk)("select",{name:"select_map",id:"select_map","onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e)},t[4]||(t[4]=[(0,s.Lk)("option",{value:"origin"},"origin",-1)]),512),[[o.u1,l.value]]),t[9]||(t[9]=(0,s.Lk)("br",null,null,-1)),t[10]||(t[10]=(0,s.eW)(" select_mode:")),(0,s.bo)((0,s.Lk)("select",{name:"select_mode",id:"select_mode","onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e)},t[5]||(t[5]=[(0,s.Lk)("option",{value:"deathmatch"},"deathmatch",-1),(0,s.Lk)("option",{value:"team_deathmatch"},"team_deathmatch",-1)]),512),[[o.u1,d.value]])]),t[12]||(t[12]=(0,s.Lk)("input",{type:"submit"},null,-1))])],32),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(g.value,((e,t)=>((0,s.uX)(),(0,s.CE)("button",{key:t,onClick:t=>i.socket.emit("selectR",e.Rid)},[(0,s.Lk)("p",p,(0,c.v_)(e.PTs.length)+"/20",1),(0,s.Lk)("p",v,(0,c.v_)(e.map),1),(0,s.Lk)("p",w,(0,c.v_)(e.Rid),1),(0,s.Lk)("p",f,(0,c.v_)(e.mode),1)],8,m)))),128))]))}});const P=(0,h.A)(g,[["__scopeId","data-v-4a3b9a9c"]]);var B=P,y=i(1114),T=(i(4114),i.p+"img/ozisanoffense_logo.e53d3e40.png"),b="data:image/png;base64,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",k="data:image/png;base64,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";const E={id:"debug_bar"},H={key:0,id:"youdead"},I={key:1,id:"main_hud"};var M=(0,s.pM)({__name:"hud_view",props:{hud_data:{},debug_data:{}},setup(e){const t=e;return(e,i)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",E,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.debug_data,((e,t)=>((0,s.uX)(),(0,s.CE)("p",{key:t},(0,c.v_)(e[0])+"："+(0,c.v_)(e[1]),1)))),128))]),t.hud_data.PT.alive?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",H,i[0]||(i[0]=[(0,s.Lk)("div",null,[(0,s.Lk)("h1",null,"You Dead!"),(0,s.Lk)("p",null,'press "t" to respawn')],-1)]))),t.hud_data.PT?((0,s.uX)(),(0,s.CE)("p",I,[(0,s.eW)(" health : "+(0,c.v_)(t.hud_data.PT.health),1),i[1]||(i[1]=(0,s.Lk)("br",null,null,-1)),(0,s.eW)(" ammo : "+(0,c.v_)(t.hud_data.ammo),1),i[2]||(i[2]=(0,s.Lk)("br",null,null,-1)),(0,s.eW)(" "+(0,c.v_)(Math.floor(100*Math.cos(15*t.hud_data.reloading_progress))/200+.5),1)])):(0,s.Q3)("",!0),i[3]||(i[3]=(0,s.Lk)("img",{src:b,alt:"",id:"reticle"},null,-1)),(0,s.Lk)("img",{src:k,alt:"",id:"cycle_icon",style:(0,c.Tr)("opacity: "+(t.hud_data.reloading_progress>0?Math.floor(100*Math.cos(15*t.hud_data.reloading_progress))/200+.5:0)+";")},null,4)],64))}});const Q=(0,h.A)(M,[["__scopeId","data-v-523d03c6"]]);var x=Q,R=i(9437),C=i(2763);const F={key:0,src:T,alt:"title_wall"};var L=(0,s.pM)({__name:"graphic_view",props:{socket:{},in_nowRT:{},id:{}},setup(e){let t=window.innerWidth,i=window.innerHeight,o=0,a=0;const h={desert_eagle:"./game_assets/desert_eagle_reload_animation.glb",fn_fal:"./game_assets/fn_fal_reload_animation.glb",g3:"./game_assets/g3_reload_animation.glb"},l=(0,n.KR)(!1),d=e,c=(0,n.KR)(d.in_nowRT),r=(0,n.KR)(),u=(0,n.KR)(0),A=(0,n.KR)(0),m=(0,n.KR)([["time_delta",1],["syncT time delta",1],["npc 9 HP",1]]);return(0,s.sV)((async()=>{console.log(c);let e=0,s=!1,n=!1;const p=new R.zD7,v=850;let w=[],f=[],g=[];window.addEventListener("resize",(()=>{t=window.innerWidth,i=window.innerHeight,E.setPixelRatio(window.devicePixelRatio),E.setSize(t,i),M.aspect=t/i,M.updateProjectionMatrix()})),document.body.addEventListener("keydown",(t=>{if(w&&w.every((e=>{e.model})))return-1;"w"===t.key&&(e|=8),"a"===t.key&&(e|=4),"s"===t.key&&(e|=2),"d"===t.key&&(e|=1),"t"===t.key&&(s=!0),"r"===t.key&&w[F]&&w[F].reload(),"z"===t.key&&w[F]&&(w[F].PT.sitting=!w[F].PT.sitting),t.shiftKey&&w[F]&&(w[F].PT.running=!w[F].PT.running)})),document.body.addEventListener("keyup",(t=>{"w"===t.key&&(e&=7),"a"===t.key&&(e&=11),"s"===t.key&&(e&=13),"d"===t.key&&(e&=14),"t"===t.key&&(s=!1)})),document.body.addEventListener("mousedown",(()=>{n=!0})),document.body.addEventListener("mouseup",(()=>{n=!1,w[F]&&(w[F].rensha_cool_time=0)})),document.addEventListener("mousemove",(e=>{o=e.pageX/t-.5,a=e.pageY/i-.5})),document.addEventListener("mouseleave",(()=>{o=0,a=0})),d.socket.on("syncT",(e=>{if(m.value[1][1]=(Date.now()-e.time)/1e3,w){if(e.PTs.forEach(((e,t)=>{t!=F&&(t<w.length?w[t].PT=e:w.push(new P(e)))})),e.nPTs.length<f.length){const t=f.splice(0,f.length-e.nPTs.length);t.forEach((e=>{e.model&&H.remove(e.model)}))}e.nPTs.forEach(((e,t)=>{t%w.length!==F&&(f[t].PT=e)}))}})),d.socket.on("fire",(e=>{const t=w.findIndex((t=>t.PT.id===e.T.id));-1!==t&&(w[t].PT=e.T),w[t].shot(e.weapon_id,e.ammo_is)})),d.socket.on("spawn",(e=>{const t=w.findIndex((t=>t.PT.id===e.id));-1!==t&&t!==F&&(w[t].PT=e),w[t].spawn()}));class P{constructor(e){switch((0,y.A)(this,"PT",void 0),(0,y.A)(this,"semi_auto",void 0),(0,y.A)(this,"reload_time",void 0),(0,y.A)(this,"reloading_time",void 0),(0,y.A)(this,"rensha",void 0),(0,y.A)(this,"rensha_cool_time",void 0),(0,y.A)(this,"max_ammo",void 0),(0,y.A)(this,"ammo",void 0),(0,y.A)(this,"damage",void 0),(0,y.A)(this,"bul_speed",void 0),(0,y.A)(this,"repopcount",void 0),(0,y.A)(this,"shot_sound",void 0),(0,y.A)(this,"reload_sound",void 0),(0,y.A)(this,"noshot_sound",void 0),(0,y.A)(this,"model_path",void 0),(0,y.A)(this,"gltf",void 0),(0,y.A)(this,"model",void 0),(0,y.A)(this,"mixer",void 0),(0,y.A)(this,"animations",void 0),(0,y.A)(this,"now_animation",void 0),(0,y.A)(this,"action",void 0),this.PT=e,this.PT.weapon_ids.main){case"desert_eagle":this.rensha=1,this.max_ammo=7,this.damage=3,this.bul_speed=460,this.semi_auto=!0,this.reload_time=2.5;break;case"fn_fal":this.rensha=.091,this.max_ammo=20,this.damage=.6,this.bul_speed=823,this.semi_auto=!1,this.reload_time=2;break;case"g3":this.rensha=.1,this.max_ammo=30,this.damage=.5,this.bul_speed=790,this.semi_auto=!1,this.reload_time=5.5;break}this.model=void 0,this.shot_sound=new Audio("./game_assets/submachinegun.mp3"),this.reload_sound=new Audio("./game_assets/pompaction.mp3"),this.noshot_sound=new Audio("./game_assets/pompaction_none.mp3"),this.model_path=h[this.PT.weapon_ids.main],this.animations=new Map([]),this.reloading_time=0,this.rensha_cool_time=0,this.repopcount=2,this.ammo=0,this.mixer=void 0,this.init()}async init(){if(this.gltf=await I.loadAsync(this.model_path),this.model=this.gltf.scene,!this.model)throw Error(this.model_path+"ロード失敗");this.gltf.animations.length>0&&(this.gltf.animations.forEach((e=>{this.animations.set(e.name,e)})),this.mixer=new R.Iw4(this.model)),H.add(this.model),"desert_eagle"===this.PT.weapon_ids.main||"g3"===this.PT.weapon_ids.main?this.model.scale.set(1.08,1.08,1.08):"fn_fal"===this.PT.weapon_ids.main&&this.model.scale.set(91.8,91.8,91.8),console.log(this.PT.id,this.animations.keys(),this.model),d.id===this.PT.id?this.spawn():this.update(.01)}reload(){this.reloading_time<=0&&(this.anim_change("reload"),this.reloading_time=this.reload_time,4===this.shot_sound.readyState&&(this.reload_sound.pause(),this.reload_sound.currentTime=0,this.reload_sound.play()),this.ammo=this.max_ammo)}update(e){if(!this.model)return-1;this.repopcount>=0&&(this.repopcount-=e),this.rensha_cool_time>=0&&(this.rensha_cool_time-=e),this.reloading_time>=0&&(this.reloading_time-=e);let t=!0;this.reloading_time>=0&&(t=!1),this.PT.sitting&&t&&(this.anim_change("sit"),t=!1),this.repopcount>=0&&Math.ceil(this.repopcount**2/5+5*this.repopcount)%2||!this.PT.alive?this.model.visible=!1:this.model.visible=!0,this.PT.position.x+=this.PT.velocity.x*e,this.PT.position.y+=this.PT.velocity.y*e,this.PT.position.z+=this.PT.velocity.z*e,this.model.position.set(this.PT.position.x,this.PT.position.y,this.PT.position.z),w[F].PT.velocity.x*=.8,w[F].PT.velocity.z*=.8,this.PT.velocity.x**2+this.PT.velocity.y**2+this.PT.velocity.z**2>.1&&t&&(this.anim_change("walk"),t=!1),this.PT.position.y_rotation+=this.PT.velocity.y_rotation*e,this.PT.position.elevation_angle+=this.PT.velocity.elevation_angle*e,this.model.rotation.set(0,this.PT.position.y_rotation,0),this.PT.velocity.y_rotation/=.1,this.PT.velocity.elevation_angle/=.1,t&&this.anim_change("pose"),this.mixer&&this.mixer.update(e)}shot(e,t){if(!l.value)return-1;t?(g.push(new T(this.PT)),4===this.shot_sound.readyState&&(this.shot_sound.pause(),this.shot_sound.currentTime=0,this.shot_sound.play())):4===this.noshot_sound.readyState&&(this.noshot_sound.pause(),this.noshot_sound.currentTime=0,this.noshot_sound.play())}spawn(){this.repopcount=3,this.rensha_cool_time=2,this.PT.alive=!0,this.PT.health=10,this.PT.death++,this.PT.position=this.PT.spawn_point,this.PT.sitting=!1,this.PT.running=!1}anim_change(e){if((!this.now_animation||this.now_animation.name!=e)&&this.mixer)if(console.log(e),"reload"===e&&this.animations.has("KeptYouWaitingHuh?")){if(this.mixer.stopAllAction(),this.action&&this.action.reset(),this.now_animation=this.animations.get("KeptYouWaitingHuh?"),!this.now_animation)return-1;this.action=this.mixer.clipAction(this.now_animation),this.action.setLoop(R.G3T,1),this.action.clampWhenFinished=!0,this.action.play()}else{if(this.mixer.stopAllAction(),this.action&&this.action.reset(),this.now_animation=this.animations.get(e),!this.now_animation)return-1;this.action=this.mixer.clipAction(this.now_animation),this.action.setLoop(R.aMy,999999),this.action.clampWhenFinished=!0,this.action.play()}}}function B(e){let t=g.findIndex((t=>t.bullet_id===e));-1!==t?(H.remove(g[t].bullet),g.splice(t,1)):console.error("error kia bullet",g.length)}class T{constructor(e){(0,y.A)(this,"bullet",void 0),(0,y.A)(this,"bullet_id",void 0),(0,y.A)(this,"Pside",void 0),(0,y.A)(this,"vec",void 0),(0,y.A)(this,"speed",void 0),(0,y.A)(this,"counter",void 0),(0,y.A)(this,"damage",void 0),(0,y.A)(this,"ray",void 0),(0,y.A)(this,"intersects",void 0),(0,y.A)(this,"exist",void 0),this.bullet=new R.eaF(new R.iNn(3,3,6),new R.V9B({color:16711680})),this.Pside=e.side,this.bullet_id=Math.random(),this.exist=!0;const t=e,i=w.find((t=>t.PT.id===e.id));i?(this.vec={y:t.position.y_rotation,e:t.position.elevation_angle},this.bullet.position.set(t.position.x+Math.sin(this.vec.y)*Math.cos(this.vec.e)*20,t.position.y+170+20*Math.sin(this.vec.e),t.position.z+Math.cos(this.vec.y)*Math.cos(this.vec.e)*20),this.bullet.rotation.set(-this.vec.e,this.vec.y,0),H.add(this.bullet),this.speed=50*i.bul_speed,this.counter=2e3,this.damage=i.damage):B(this.bullet_id)}move(e){if(this.counter&&this.speed&&this.vec&&this.damage)if(this.counter-=this.speed*e,this.counter<0)B(this.bullet_id);else{if(this.ray=new R.tBo(this.bullet.position,new R.Pq0(Math.sin(this.vec.y)*Math.cos(this.vec.e),Math.sin(this.vec.e),Math.cos(this.vec.y)*Math.cos(this.vec.e)),0,this.speed*e),this.exist&&w[F].model&&this.ray&&(this.intersects=this.ray.intersectObjects([w[F].model]),this.intersects.length>0&&w[F].PT.side!=this.Pside)){const e=this.intersects[0].object;w[F].PT.health-=this.damage,w[F].PT.health<=0&&(w[F].PT.alive=!1),console.log("got body shot",w[F].PT.id,e.id,this.Pside),B(this.bullet_id),this.exist=!1}f.forEach(((e,t)=>{if(this.exist&&e.model&&this.ray&&t%w.length==F&&this.damage&&(this.intersects=this.ray.intersectObjects([e.model]),this.intersects.length>0&&e.PT.side!=this.Pside)){const i=this.intersects[0].object;f[t].PT.health-=this.damage,console.log("got body shot",e.PT.id,i.id),i.material.color.r=1,B(this.bullet_id),this.exist=!1}})),this.bullet.position.x+=Math.sin(this.vec.y)*Math.cos(this.vec.e)*this.speed*e,this.bullet.position.y+=Math.sin(this.vec.e)*this.speed*e,this.bullet.position.z+=Math.cos(this.vec.y)*Math.cos(this.vec.e)*this.speed*e}}}function b(e){const t={y:w[e].PT.position.y_rotation,e:w[e].PT.position.elevation_angle};M.position.set(w[e].PT.position.x+Math.sin(t.y)*Math.cos(t.e)*37,w[e].PT.position.y+175+37*Math.sin(t.e),w[e].PT.position.z+Math.cos(t.y)*Math.cos(t.e)*37),M.lookAt(w[e].PT.position.x+Math.sin(t.y)*Math.cos(t.e)*40,w[e].PT.position.y+175+40*Math.sin(t.e),w[e].PT.position.z+Math.cos(t.y)*Math.cos(t.e)*40)}const k=document.getElementById("main_canvas");if(null===k)throw Error("main_canvas検知不能");const E=new R.JeP({canvas:k,logarithmicDepthBuffer:!0});E.setPixelRatio(window.devicePixelRatio),E.setSize(t,i);const H=new R.Z58,I=new C.B,M=new R.ubm(45,t/i,.1,2e5),Q=new R.dth(8947848,5263360,1);let x;H.add(Q),I.load("/game_assets/de_dust2_-_cs_map-rep.glb",(function(e){x=e.scene,H.add(x),x.scale.set(250,250,250),x.position.set(0,0,0)})),c.value.PTs.forEach((e=>{w.push(new P(e))})),c.value.nPTs.forEach((e=>{f.push(new P(e))}));const F=w.findIndex((e=>e.PT.id===d.id));function L(){let t=p.getDelta();m.value[0][1]=Math.floor(1e3*t)/1e3;const i=f.find((e=>"npc_9"===e.PT.id));if(i&&(m.value[2][1]=i.PT.health),w.forEach((e=>{e.update(t)})),f.forEach((e=>{e.update(t)})),g.forEach((e=>{e.move(t)})),e>0){let t;t=8===e?0:12===e?.25:4===e?.5:6===e?.75:2===e?1:3===e?1.25:1===e?1.5:1.75,w[F].PT.velocity.x=Math.sin(Math.PI*t+w[F].PT.position.y_rotation)*v,w[F].PT.velocity.z=Math.cos(Math.PI*t+w[F].PT.position.y_rotation)*v}else w[F].PT.velocity.x*=.5,w[F].PT.velocity.z*=.5;w[F].PT.position.y_rotation-=.06*o,w[F].PT.position.elevation_angle-=.06*a,w[F].PT.position.elevation_angle>.125*Math.PI&&(w[F].PT.position.elevation_angle=.125*Math.PI),w[F].PT.position.elevation_angle<-.03125*Math.PI&&(w[F].PT.position.elevation_angle=-.03125*Math.PI),d.socket.emit("syncT",{time:Date.now(),PT:w[F].PT}),f.forEach(((e,t)=>{t%w.length===F&&d.socket.emit("npc_syncT",e.PT)})),n&&w[F].reloading_time<0&&w[F].rensha_cool_time<0&&(d.socket.emit("fire",{T:w[F].PT,weapon_id:w[F].PT.weapon_ids.main,ammo_is:w[F].ammo>0}),w[F].rensha_cool_time=w[F].rensha,w[F].ammo--),s&&!w[F].PT.alive&&(w[F].PT.position=w[F].PT.spawn_point,d.socket.emit("spawn",w[F].PT)),r.value=w[F].PT,u.value=w[F].ammo,A.value=w[F].reloading_time/w[F].reload_time,b(F),E.render(H,M),requestAnimationFrame(L)}l.value=!0,L()})),(e,t)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[l.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("img",F)),r.value?((0,s.uX)(),(0,s.Wv)(x,{key:1,hud_data:{PT:r.value,ammo:u.value,reloading_progress:A.value},debug_data:m.value},null,8,["hud_data","debug_data"])):(0,s.Q3)("",!0),t[0]||(t[0]=(0,s.Lk)("canvas",{id:"main_canvas"},null,-1))],64))}});const D=(0,h.A)(L,[["__scopeId","data-v-1f9c587e"]]);var z=D,J=i(4787),_=(0,s.pM)({__name:"App",setup(e){const t=(0,J.io)("https://ozisan-offense.onrender.com",{withCredentials:!0}),i=(0,n.KR)({id:"",R:"",connection:!1,ip:""}),o=(0,n.KR)();return t.on("reconnection",((e,t)=>{i.value.id=e,i.value.R=t,i.value.connection=!0})),t.on("reconnectionR",(e=>{o.value=e})),t.on("login_false",(e=>{alert(e),i.value={id:"",R:"",connection:!1,ip:""}})),t.on("Rfalse",(e=>{alert(e),i.value.R="&lobby"})),(e,a)=>i.value.connection?"&lobby"==i.value.R?((0,s.uX)(),(0,s.Wv)(B,{key:1,socket:(0,n.R1)(t),onVomit_RT:a[1]||(a[1]=e=>{i.value.R=e.Rid,o.value=e})},null,8,["socket"])):"&"!=i.value.R.charAt(0)&&o.value?((0,s.uX)(),(0,s.Wv)(z,{key:2,socket:(0,n.R1)(t),in_nowRT:o.value,id:i.value.id},null,8,["socket","in_nowRT","id"])):(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(d,{key:0,socket:(0,n.R1)(t),onVomitPS:a[0]||(a[0]=e=>{i.value=e})},null,8,["socket"]))}});const X=(0,h.A)(_,[["__scopeId","data-v-2de510fd"]]);var O=X;(0,o.Ef)(O).mount("#app")}},t={};function i(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,o,s,n){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],n=e[c][2];for(var h=!0,l=0;l<o.length;l++)(!1&n||a>=n)&&Object.keys(i.O).every((function(e){return i.O[e](o[l])}))?o.splice(l--,1):(h=!1,n<a&&(a=n));if(h){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,s,n]}}(),function(){i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p=""}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,n,a=o[0],h=o[1],l=o[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(s in h)i.o(h,s)&&(i.m[s]=h[s]);if(l)var c=l(i)}for(t&&t(o);d<a.length;d++)n=a[d],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(c)},o=self["webpackChunkozisan_offense"]=self["webpackChunkozisan_offense"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=i.O(void 0,[504],(function(){return i(7726)}));o=i.O(o)})();
//# sourceMappingURL=app.d947df5b.js.map